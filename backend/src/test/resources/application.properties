# Test Configuration
# Uses smaller connection pool to avoid PostgreSQL connection limit issues

# Database Configuration (same as main, but smaller pool)
spring.datasource.url=jdbc:postgresql://localhost:5432/rapidphoto
spring.datasource.username=postgres
spring.datasource.password=postgres123
spring.datasource.driver-class-name=org.postgresql.Driver

# Smaller connection pool for tests
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.connection-timeout=10000

# JPA Configuration
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false

# Flyway Configuration - Enable but don't fail if migrations already applied
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true

# AWS S3 Configuration (use defaults)
aws.s3.bucket-name=${AWS_S3_BUCKET_NAME:rapidphoto-uploads-dev}
aws.s3.region=${AWS_REGION:us-east-2}

# JWT Configuration
jwt.secret=${JWT_SECRET:test-secret-key-for-testing-only-min-256-bits-required-for-jwt-security-test-secret-key-for-testing-only-min-256-bits-required-for-jwt-security}
jwt.expiration-ms=3600000

# Server Configuration
server.port=0

# Logging Configuration
logging.level.com.rapidphoto=INFO
logging.level.org.springframework.web=INFO


